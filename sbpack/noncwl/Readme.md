# sbpack_wdl
Developed to support WDL workflows on Seven Bridges Platform. 
This command enables users to create and upload WDL workflows
to the Platform.

### Usage
```
$ sbpack_wdl -h

usage: sbpack_wdl [-h] [--profile PROFILE] --appid APPID --entrypoint ENTRYPOINT --workflow-path WORKFLOW_PATH [--sb-package-id SB_PACKAGE_ID] [--womtool-input WOMTOOL_INPUT]
                  [--sb-inputs SB_INPUTS] [--sb-outputs SB_OUTPUTS] [--sb-doc SB_DOC] [--dump-sb-app] [--no-package] [--womtool-path WOMTOOL_PATH] [--json] [--sb-schema SB_SCHEMA]

optional arguments:
  -h, --help            show this help message and exit
  --profile PROFILE     SB platform profile as set in the SB API credentials file.
  --appid APPID         Takes the form {user or division}/{project}/{app_id}.
  --entrypoint ENTRYPOINT
                        Relative path to the workflow from the main workflow directory
  --workflow-path WORKFLOW_PATH
                        Path to the main workflow directory
  --sb-package-id SB_PACKAGE_ID
                        Id of an already uploaded package
  --womtool-input WOMTOOL_INPUT
                        Path to inputs .JSON generated by womtool
  --sb-inputs SB_INPUTS
                        Path to pre built sb app inputs schema
  --sb-outputs SB_OUTPUTS
                        Path to pre build sb app outputs schema
  --sb-doc SB_DOC       Path to a doc file for sb app. If not provided, README.md will be used if available
  --dump-sb-app         Dump created sb app to file if true and exit
  --no-package          Only provide a sb app schema and a git URL for entrypoint
  --womtool-path WOMTOOL_PATH
                        Path to womtool-X.jar
  --json                Dump sb app schema in JSON format (YAML by default)
  --sb-schema SB_SCHEMA
                        Do not create new schema, use this schema file. It is sb_wdl_schema in JSON or YAML format.
```

### Example

```
$ sbpack_wdl --profile default --workflow-path /path/to/workflow_dir 
--appid user/project/app --entrypoint workflow.wdl 
--womtool-path /path/to/womtool-X.jar
```

# sbpack_nf
Developed to support Nextflow workflows on Seven Bridges Platform. 
This command enables users to create and upload Nextflow workflows
to the Platform.

### Usage
```
$ sbpack_nf -h

usage: sbpack_nf [-h] [--profile PROFILE] --appid APPID --workflow-path WORKFLOW_PATH [--entrypoint ENTRYPOINT] [--sb-package-id SB_PACKAGE_ID] [--sb-inputs SB_INPUTS] [--sb-outputs SB_OUTPUTS]
                 [--sb-doc SB_DOC] [--dump-sb-app] [--no-package] [--json] [--sb-schema SB_SCHEMA]

optional arguments:
  -h, --help            show this help message and exit
  --profile PROFILE     SB platform profile as set in the SB API credentials file.
  --appid APPID         Takes the form {user or division}/{project}/{app_id}.
  --entrypoint ENTRYPOINT
                        Relative path to the workflow from the main workflow directory. If not provided, 'main.nf' will be used if available. If not available, any '.nf' located in the workflow-path will be used.
  --workflow-path WORKFLOW_PATH
                        Path to the main workflow directory
  --sb-package-id SB_PACKAGE_ID
                        Id of an already uploaded package
  --sb-inputs SB_INPUTS
                        Path to pre built sb app inputs schema
  --sb-outputs SB_OUTPUTS
                        Path to pre build sb app outputs schema
  --sb-doc SB_DOC       Path to a doc file for sb app. If not provided, README.md will be used if available
  --dump-sb-app         Dump created sb app to file if true and exit
  --no-package          Only provide a sb app schema and a git URL for entrypoint
  --executor-version EXECUTOR_VERSION
                        Version of the Nextflow executor to be used with the app.
  --json                Dump sb app schema in JSON format (YAML by default)
  --sb-schema SB_SCHEMA
                        Do not create new schema, use this schema file. It is sb_nextflow_schema in JSON or YAML format.
  --output-schema-files OUTPUT_SCHEMA_FILES [OUTPUT_SCHEMA_FILES ...]
                        Additional output schema files in CWL or tower.yml format.
  --input-schema-files INPUT_SCHEMA_FILES [INPUT_SCHEMA_FILES ...]
                        Additional input schema files in CWL format.
  --revision-note REVISION_NOTE [REVISION_NOTE ...]
                        Revision note to be placed in the CWL schema if the app is uploaded to the sbg platform.
  --manual-validation   You will have to provide validation for all 'string' type inputs if are string (str), file (file), directory (dir), list of file (files), or list of directory (dirs) type inputs.

```
### Example

```
$ sbpack_nf --profile default --workflow-path /path/to/workflow_dir  
--appid user/project/app --entrypoint main.nf
```

# sbcopy

Developed to enable deep copying of Nextflow and WDL apps on the SB platform between projects.
Note: The link between the original, and the new app will not be available. 

### Usage

```
sbcopy -h
usage: sbcopy [-h] [--profile PROFILE] --appid APPID --projectid PROJECTID

optional arguments:
  -h, --help            show this help message and exit
  --profile PROFILE     SB platform profile as set in the SB API credentials file.
  --appid APPID         What to copy? Takes the form {user or division}/{project}/{app_id} or {user or division}/{project}/{app_id}/{revision_no}.
  --projectid PROJECTID
                        Where to copy? Takes the form {user or division}/{project}
```

### Example

```
sbcopy --appid division-name/project-name/app-name --projectid division-name/destination-project-name
```